@{
	ViewData["Title"] = "Thực đơn - Nhà Hàng Đức Phát";
	Layout = "~/Views/Shared/_RestaurantLayout.cshtml";
}

<div class="menu-page">
	<!-- Hero Section -->
	<section class="menu-hero">
		<div class="menu-hero-overlay"></div>
		<div class="container">
			<div class="menu-hero-content">
				<h1 class="menu-hero-title animate__animated animate__fadeInUp">Thực Đơn Đặc Biệt</h1>
				<p class="menu-hero-subtitle animate__animated animate__fadeInUp animate__delay-1s">
					Khám phá những món ăn tinh tế được chế biến từ nguyên liệu tươi ngon nhất
				</p>
			</div>
		</div>
	</section>

	<!-- Search and Filter Section -->
	<section class="menu-filters">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-6">
					<div class="search-box">
						<div class="search-input-group">
							<i class="fas fa-search search-icon"></i>
							<input type="text" id="dishSearch" class="search-input" placeholder="Tìm kiếm món ăn...">
							<button class="search-clear" id="clearSearch" style="display: none;">
								<i class="fas fa-times"></i>
							</button>
						</div>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="filter-options">
						<div class="price-filter">
							<label class="filter-label">Khoảng giá:</label>
							<select id="priceFilter" class="filter-select">
								<option value="">Tất cả</option>
								<option value="0-100000">Dưới 100,000đ</option>
								<option value="100000-300000">100,000đ - 300,000đ</option>
								<option value="300000-500000">300,000đ - 500,000đ</option>
								<option value="500000-999999999">Trên 500,000đ</option>
							</select>
						</div>
						<div class="sort-options">
							<label class="filter-label">Sắp xếp:</label>
							<select id="sortFilter" class="filter-select">
								<option value="name">Tên A-Z</option>
								<option value="price-asc">Giá thấp đến cao</option>
								<option value="price-desc">Giá cao đến thấp</option>
								<option value="popular">Phổ biến</option>
							</select>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Categories and Dishes -->
	<section class="menu-content">
		<div class="container">
			<div class="row">
				<!-- Categories Sidebar -->
				<div class="col-lg-3">
					<div class="categories-sidebar">
						<h5 class="sidebar-title">
							<i class="fas fa-list me-2"></i>Danh Mục
						</h5>
						<div class="categories-list" id="categoriesList">
							<div class="category-loading">
								<div class="loading-spinner"></div>
								<span>Đang tải danh mục...</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Dishes Grid -->
				<div class="col-lg-9">
					<div class="dishes-header">
						<div class="dishes-count">
							<span id="dishesCount">Đang tải...</span>
						</div>
						<div class="view-toggle">
							<button class="view-btn active" data-view="grid" title="Xem dạng lưới">
								<i class="fas fa-th"></i>
							</button>
							<button class="view-btn" data-view="list" title="Xem dạng danh sách">
								<i class="fas fa-list"></i>
							</button>
						</div>
					</div>

					<div class="dishes-container">
						<div id="dishesGrid" class="dishes-grid">
							<!-- Loading skeleton -->
							<div class="dishes-loading">
								<div class="dish-skeleton" v-for="i in 6"></div>
							</div>
						</div>

						<!-- No results -->
						<div id="noResults" class="no-results" style="display: none;">
							<div class="no-results-icon">
								<i class="fas fa-search"></i>
							</div>
							<h6>Không tìm thấy món ăn</h6>
							<p>Hãy thử tìm kiếm với từ khóa khác hoặc thay đổi bộ lọc</p>
							<button class="btn modern-btn-outline" onclick="clearAllFilters()">
								<i class="fas fa-refresh me-2"></i>Xóa bộ lọc
							</button>
						</div>
					</div>

					<!-- Pagination -->
					<div class="pagination-container">
						<nav aria-label="Dishes pagination">
							<ul class="pagination modern-pagination" id="dishPagination">
								<!-- Pagination will be generated by JS -->
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>
	</section>
</div>

<!-- Dish Detail Modal -->
<div class="modal fade modern-modal" id="dishDetailModal" tabindex="-1" aria-hidden="true">
	<div class="modal-dialog modal-lg modal-dialog-centered">
		<div class="modal-content modern-modal-content">
			<div class="modal-header modern-modal-header">
				<h5 class="modal-title">
					<i class="fas fa-utensils me-2"></i>Chi tiết món ăn
				</h5>
				<button type="button" class="btn-close modern-btn-close" data-bs-dismiss="modal"></button>
			</div>
			<div class="modal-body modern-modal-body p-0">
				<div id="dishDetailContent">
					<!-- Content will be loaded by JS -->
				</div>
			</div>
		</div>
	</div>
</div>

@section Styles {
	<link rel="stylesheet" href="~/css/menu.css" asp-append-version="true" />
}

@section Scripts {
	<script src="~/js/menu-enhanced.js" asp-append-version="true"></script>
}
