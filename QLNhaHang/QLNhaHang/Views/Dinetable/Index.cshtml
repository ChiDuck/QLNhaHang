@{
	ViewData["Title"] = "Bàn ăn";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/css/dinetable.css" rel="stylesheet" />

<div class="dinetable-container">
	<!-- Header Section -->
	<div class="dinetable-header">
		<div class="header-content">
			<div class="header-left">
				<h1 class="page-title">
					<i class="fas fa-chair"></i>
					Quản lý Bàn ăn
				</h1>
			</div>
			<div class="header-right">
				<button class="btn btn-primary add-btn" onclick="showAddForm()">
					<i class="fas fa-plus"></i>
					Thêm bàn mới
				</button>
			</div>
		</div>
	</div>

	<!-- Controls Section -->
	<div class="controls-section">
		<div class="search-controls">
			<div class="search-box">
				<i class="fas fa-search"></i>
				<input type="text" id="searchInput" placeholder="Tìm kiếm bàn..." />
			</div>
			<div class="filter-group">
				<select id="areaFilter" class="form-select">
					<option value="">Tất cả khu vực</option>
				</select>
				<select id="typeFilter" class="form-select">
					<option value="">Tất cả loại bàn</option>
				</select>
			</div>
		</div>
		<div class="view-controls">
			<button class="btn btn-outline view-btn active" data-view="grid">
				<i class="fas fa-th"></i>
			</button>
			<button class="btn btn-outline view-btn" data-view="list">
				<i class="fas fa-list"></i>
			</button>
		</div>
	</div>

	<!-- Content Section -->
	<div class="content-section">
		<!-- Grid View -->
		<div id="gridView" class="grid-view active">
			<div class="tables-grid" id="tablesGrid">
				<!-- Tables will be loaded here -->
			</div>
		</div>

		<!-- List View -->
		<div id="listView" class="list-view">
			<div class="table-responsive">
				<table class="table">
					<thead>
						<tr>
							<th>ID</th>
							<th>Tên bàn</th>
							<th>Số ghế</th>
							<th>Khu vực</th>
							<th>Loại bàn</th>
							@* <th>Trạng thái</th> *@
							<th>Thao tác</th>
						</tr>
					</thead>
					<tbody id="tablesTableBody">
						<!-- Table rows will be loaded here -->
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<!-- Add/Edit Modal -->
<div class="modal fade" id="dinetableModal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="dinetableModalTitle">
					<i class="fas fa-chair"></i>
					Thêm bàn mới
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
			</div>
			<form id="dinetableForm">
				<div class="modal-body">
					<input type="hidden" id="dinetableId" />

					<div class="form-group">
						<label class="form-label">
							<i class="fas fa-tag"></i>
							Tên bàn
						</label>
						<input type="text" class="form-control" id="dinetableName" />
						<div class="form-text">Nhập tên bàn (VD: Bàn 01, Bàn VIP 1)</div>
						<div class="invalid-feedback" id="validateName">Tên không được để trống!</div>
					</div>
					<div class="form-group">
						<label class="form-label">
							<i class="fas fa-map-marker-alt"></i>
							Khu vực
						</label>
						<select class="form-select" id="dinetableArea">
							<option value="">Chọn khu vực</option>
						</select>
						<div class="invalid-feedback" id="validateArea">Chưa chọn khu vực!</div>
					</div>

					<div class="form-group">
						<label class="form-label">
							<i class="fas fa-chair"></i>
							Loại bàn
						</label>
						<select class="form-select" id="dinetableType">
							<option value="">Chọn loại bàn</option>
						</select>
						<div class="invalid-feedback" id="validateType">Chưa chọn loại bàn!</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn-dismiss" data-bs-dismiss="modal">
						<i class="fas fa-times"></i>
						Hủy
					</button>
					<button type="submit" class="btn-save">
						<i class="fas fa-save"></i>
						Lưu thông tin
					</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">
					<i class="fas fa-exclamation-triangle text-warning"></i>
					Xác nhận xóa
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
			</div>
			<div class="modal-body">
				<p>Bạn có chắc chắn muốn xóa bàn <strong id="deleteTableName"></strong>?</p>
				<p class="text-muted">Hành động này không thể hoàn tác.</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn-dismiss" data-bs-dismiss="modal">Hủy</button>
				<button type="button" class="btn-delete" id="confirmDelete">
					<i class="fas fa-trash"></i>
					Xóa bàn
				</button>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<script src="~/js/dinetable.js"></script>
}
